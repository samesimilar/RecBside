#N canvas 240 50 1548 994 12;
#X obj 37 5 loadbang;
#X obj 37 61 s enableSubMenu;
#X obj 579 146 text define device-names;
#X msg 277 218 rewind;
#X obj 182 226 until;
#X msg 184 256 next;
#X msg 85 200 close;
#X obj 170 30 bng 19 250 50 0 empty empty empty 0 -10 0 12 -262144
-1 -1;
#X obj 217 352 route unknown;
#X obj 338 420 text set device-names 9999;
#X obj 419 229 text delete device-names;
#X msg 416 200 -1;
#X obj 577 92 r sendToDeviceNames;
#X msg 291 174 open /dev/input/by-id;
#N canvas 314 371 801 548 passOnlyGoodDevice 0;
#X obj 133 33 inlet;
#X msg 149 146 close;
#X obj 151 415 outlet;
#X obj 243 416 outlet;
#X obj 131 65 symbol s;
#X msg 216 139 open \$1;
#X obj 134 92 t b s s;
#X obj 144 363 symbol;
#X obj 209 279 t b s;
#X text 306 98 try to open the device \; if successful then it can
be selected, f 34;
#X obj 204 188 hid_grabber;
#X connect 0 0 4 0;
#X connect 1 0 10 0;
#X connect 4 0 6 0;
#X connect 5 0 10 0;
#X connect 6 0 1 0;
#X connect 6 1 5 0;
#X connect 6 2 7 1;
#X connect 7 0 2 0;
#X connect 8 0 7 0;
#X connect 8 1 3 0;
#X connect 10 1 8 0;
#X restore 222 375 pd passOnlyGoodDevice;
#X obj 36 34 delay 1000;
#X obj 350 404 pack s;
#X obj 795 95 r sendToDeviceIds;
#X obj 795 119 text define device-ids;
#X obj 146 402 pack s;
#X obj 146 426 text set device-ids 9999;
#X obj 413 266 text delete device-ids;
#X obj 23 111 t b b b b b b b b b, f 42;
#X obj 328 235 s initText;
#N canvas 213 598 800 418 initText 0;
#X obj 72 31 r initText;
#X msg 231 129 \; sendToDeviceNames read -c main-menu.txt \; sendToTestMenuItems
read -c test-menu.txt;
#X obj 151 61 t b b b;
#X obj 155 227 text set device-ids 9999;
#X obj 63 179 text set device-names 9999;
#X msg 77 98 None;
#X obj 77 122 pack s;
#X msg 160 101 None;
#X obj 160 125 pack s;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 2 1 7 0;
#X connect 2 2 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X restore 580 55 pd initText;
#X obj 793 148 r sendToTestMenuItems;
#X obj 793 172 text define test-menu;
#N canvas 167 184 759 799 handleEnc 0;
#X obj 234 79 r enc;
#X obj 234 106 expr $f1 * 2 - 1;
#X obj 207 236 v patchMenu;
#X obj 304 237 + 1;
#X floatatom 300 305 5 0 0 0 - - -;
#X obj 282 271 clip 0 999;
#X obj 232 139 t b f b;
#X obj 352 184 v minItemNum;
#X obj 45 117 r menuInitCurrentLine;
#X obj 286 415 s menuLineNumber;
#X obj 250 376 t b f;
#X obj 256 457 s doMenuUpdate;
#X obj 351 217 v menuLastLine;
#X obj 48 157 t f f;
#X obj 53 222 s menuLineNumber;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 2 0;
#X connect 6 1 3 1;
#X connect 6 2 7 0;
#X connect 6 2 12 0;
#X connect 7 0 5 1;
#X connect 8 0 13 0;
#X connect 10 0 11 0;
#X connect 10 1 9 0;
#X connect 12 0 5 2;
#X connect 13 0 14 0;
#X connect 13 1 2 0;
#X restore 67 501 pd handleEnc;
#N canvas 405 600 453 315 handleEncBut 0;
#X obj 101 33 r encbut;
#X obj 121 130 t b f;
#X msg 147 220 \; but\$1 \$2;
#X obj 146 190 pack f f;
#X obj 122 156 v currentMenuLevel;
#X obj 214 38 t b f;
#X obj 191 96 spigot 0;
#X obj 236 70 == 1;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 1 1 3 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 1 0;
#X connect 7 0 6 1;
#X restore 63 550 pd handleEncBut;
#N canvas 965 50 622 943 doMenuDraw 0;
#X obj 91 343 pack f s;
#X msg 272 157 1;
#X msg 221 158 2;
#X msg 181 164 3;
#X msg 143 163 4;
#X msg 106 159 5;
#X obj 279 224 + 0;
#X obj 187 194 t f f, f 11;
#X obj 300 192 - 1;
#X msg 126 468 \; screenLine\$1 \$2;
#X floatatom 254 319 5 0 0 0 - - -;
#X obj 255 343 == 0;
#X floatatom 254 368 5 0 0 0 - - -;
#X obj 128 417 spigot;
#X obj 158 303 unpack s;
#X obj 207 51 v menuTopLine;
#X obj 296 24 t b;
#X obj 201 108 t b b b b b f b;
#X obj 184 22 r doMenuDraw;
#X obj 147 264 r returnMenuLine;
#X obj 253 294 r returnMenuLineOk;
#X obj 392 176 t f b;
#X obj 442 220 pack f f;
#X obj 456 178 v currentMenuLevel;
#X msg 422 269 \; menu\$2GetLine \$1;
#X connect 0 0 13 0;
#X connect 1 0 7 0;
#X connect 2 0 7 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 21 0;
#X connect 7 0 0 0;
#X connect 7 1 6 0;
#X connect 8 0 6 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 9 0;
#X connect 14 0 0 1;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 5 0;
#X connect 17 1 4 0;
#X connect 17 2 3 0;
#X connect 17 3 2 0;
#X connect 17 4 1 0;
#X connect 17 5 8 0;
#X connect 18 0 16 0;
#X connect 19 0 14 0;
#X connect 20 0 10 0;
#X connect 21 0 22 0;
#X connect 21 1 23 0;
#X connect 22 0 24 0;
#X connect 23 0 22 1;
#X restore 62 583 pd doMenuDraw;
#N canvas 613 285 863 687 doMenuUpdate 0;
#X obj 199 237 -;
#X obj 220 352 +;
#X msg 195 321 -1;
#X msg 274 324 1;
#X obj 192 188 t f f b;
#X obj 175 531 -;
#X obj 204 286 select -1 5;
#X msg 179 588 \; oscOut send /oled/invertline \$1 \;;
#X obj 315 363 f 0;
#X obj 337 319 b;
#X obj 255 217 v menuTopLine;
#X obj 192 152 v menuLineNumber;
#X obj 191 90 r doMenuUpdate;
#X obj 191 114 t b;
#X msg 258 433 \; menuTopLine \$1 \; doMenuDraw bang \;;
#X obj 121 102 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 188 501 v menuLineSlide 0;
#X msg 195 389 \; menuLineSlide \$1;
#X obj 160 472 t f b;
#X connect 0 0 6 0;
#X connect 1 0 14 0;
#X connect 1 0 17 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 18 0;
#X connect 4 1 0 0;
#X connect 4 2 10 0;
#X connect 5 0 7 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 6 2 9 0;
#X connect 8 0 14 0;
#X connect 9 0 8 0;
#X connect 10 0 0 1;
#X connect 10 0 1 1;
#X connect 10 0 8 1;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 15 0 13 0;
#X connect 16 0 5 1;
#X connect 18 0 5 0;
#X connect 18 1 16 0;
#X restore 59 611 pd doMenuUpdate;
#X msg 17 285 \; goRMenu0 bang \;;
#X obj 264 521 v currentMenuLevel 0;
#N canvas 48 288 1092 665 doMenu0 0;
#X obj 183 313 r goRMenu0;
#X msg 478 373 0;
#X obj 372 448 text size device-names;
#X floatatom 400 479 5 0 0 0 - - -;
#X msg 26 217 \; goHome bang \;;
#X obj 80 16 r but0;
#X obj 372 479 - 1;
#X obj 371 423 s minItemNum;
#X msg 368 384 0;
#X obj 125 453 v menu0CurrentLine 0;
#X obj 125 479 s menuInitCurrentLine;
#X obj 191 411 s menuTopLine;
#X obj 201 385 v menu0TopLine 0;
#X obj 186 339 t b b b b b, f 15;
#X obj 67 383 s doMenuUpdate;
#X obj 478 406 s currentMenuLevel;
#X obj 774 302 r currentMenuLevel;
#X obj 796 352 == 0;
#X obj 643 319 r menuTopLine;
#X obj 727 419 s menu0TopLine;
#X obj 705 528 s menu0CurrentLine;
#X obj 680 460 r menuLineNumber;
#X obj 32 106 v menuLineNumber;
#X obj 728 71 r menu0GetLine;
#X obj 726 102 t f;
#X obj 731 145 text get device-names;
#X obj 733 181 s returnMenuLine;
#X obj 876 187 s returnMenuLineOk;
#X msg 397 215 \; currentDeviceSelectionIndex \$1 \; goRMenu1 bang
\;;
#X obj 371 505 s menuLastLine;
#X obj 729 385 spigot 0;
#X obj 706 495 spigot 0;
#X obj 864 461 r menuLineSlide;
#X obj 864 485 spigot 0;
#X obj 864 509 s menu0LineSlide;
#X obj 141 550 v menu0LineSlide;
#X obj 141 574 s menuLineSlide;
#X obj 47 180 route 0 1 2 3;
#X msg 137 222 \; reload bang \;;
#X obj 331 128 unpack f;
#X obj 413 188 - 4;
#X obj 81 51 t b f;
#X obj 70 138 pack f f;
#X connect 0 0 13 0;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 5 0 41 0;
#X connect 6 0 29 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 13 1 9 0;
#X connect 13 1 35 0;
#X connect 13 2 12 0;
#X connect 13 3 8 0;
#X connect 13 3 2 0;
#X connect 13 4 1 0;
#X connect 16 0 17 0;
#X connect 17 0 30 1;
#X connect 17 0 31 1;
#X connect 17 0 33 1;
#X connect 18 0 30 0;
#X connect 21 0 31 0;
#X connect 22 0 42 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 25 1 27 0;
#X connect 30 0 19 0;
#X connect 31 0 20 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 35 0 36 0;
#X connect 37 0 4 0;
#X connect 37 2 38 0;
#X connect 37 4 39 0;
#X connect 39 0 40 0;
#X connect 40 0 28 0;
#X connect 41 0 22 0;
#X connect 41 1 42 1;
#X connect 42 0 37 0;
#X restore 66 646 pd doMenu0;
#N canvas 101 191 1247 853 doMenu1 0;
#X obj 371 423 s minItemNum;
#X msg 368 384 0;
#X obj 125 479 s menuInitCurrentLine;
#X obj 191 411 s menuTopLine;
#X obj 186 339 t b b b b b, f 15;
#X obj 67 383 s doMenuUpdate;
#X obj 478 406 s currentMenuLevel;
#X obj 774 302 r currentMenuLevel;
#X obj 643 319 r menuTopLine;
#X obj 680 460 r menuLineNumber;
#X obj 335 94 t b b;
#X obj 337 130 v menuLineNumber;
#X obj 339 168 == 0;
#X obj 819 116 t f;
#X obj 826 195 s returnMenuLine;
#X obj 969 201 s returnMenuLineOk;
#X obj 313 58 r but1;
#X obj 821 85 r menu1GetLine;
#X msg 272 231 \; goRMenu0 bang \;;
#X obj 824 159 text get test-menu;
#X obj 796 352 == 1;
#X obj 704 419 s menu1TopLine;
#X obj 705 528 s menu1CurrentLine;
#X msg 478 373 1;
#X obj 201 385 v menu1TopLine 0;
#X obj 125 453 v menu1CurrentLine 0;
#X obj 183 313 r goRMenu1;
#X msg 375 473 1;
#X obj 371 506 s menuLastLine;
#X obj 729 385 spigot 0;
#X obj 706 495 spigot 0;
#X obj 290 199 spigot 0;
#X obj 871 442 r menuLineSlide;
#X obj 871 466 spigot 0;
#X obj 871 490 s menu1LineSlide;
#X obj 117 514 v menu1LineSlide;
#X obj 117 538 s menuLineSlide;
#X obj 693 575 r hidkey;
#X obj 685 609 spigot 0;
#X obj 840 585 r didSave;
#X obj 840 609 spigot 0;
#X msg 840 633 \; screenLine2 Saved;
#X obj 500 173 == 1;
#X obj 446 203 spigot 0;
#X msg 446 227 \; doSave bang \;;
#X obj 645 666 list;
#X msg 660 702 \; screenLine4 \$1 \$2 \$3;
#X connect 1 0 0 0;
#X connect 4 0 5 0;
#X connect 4 1 25 0;
#X connect 4 1 35 0;
#X connect 4 2 24 0;
#X connect 4 3 1 0;
#X connect 4 3 27 0;
#X connect 4 4 23 0;
#X connect 7 0 20 0;
#X connect 8 0 29 0;
#X connect 9 0 30 0;
#X connect 10 0 31 0;
#X connect 10 0 43 0;
#X connect 10 1 11 0;
#X connect 11 0 12 0;
#X connect 11 0 42 0;
#X connect 12 0 31 1;
#X connect 13 0 19 0;
#X connect 16 0 10 0;
#X connect 17 0 13 0;
#X connect 19 0 14 0;
#X connect 19 1 15 0;
#X connect 20 0 29 1;
#X connect 20 0 30 1;
#X connect 20 0 33 1;
#X connect 20 0 38 1;
#X connect 20 0 40 1;
#X connect 23 0 6 0;
#X connect 24 0 3 0;
#X connect 25 0 2 0;
#X connect 26 0 4 0;
#X connect 27 0 28 0;
#X connect 29 0 21 0;
#X connect 30 0 22 0;
#X connect 31 0 18 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 35 0 36 0;
#X connect 37 0 38 0;
#X connect 38 0 45 0;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 42 0 43 1;
#X connect 43 0 44 0;
#X connect 45 0 46 0;
#X restore 60 678 pd doMenu1;
#X obj 833 339 r currentDeviceSelectionIndex;
#X obj 834 369 text get device-ids;
#X obj 833 398 symbol s;
#X obj 1117 346 r sendToHid;
#X msg 838 426 \; sendToHid open \$1 \; sendToHid start \;;
#X obj 1117 443 s hidkey;
#X obj 785 549 r currentDeviceSelectionIndex;
#X obj 583 564 r doSave;
#X obj 794 241 text define config-out;
#X obj 743 599 f 0;
#X obj 743 551 t b;
#X obj 741 642 text get device-ids;
#X obj 793 211 r sendToConfigOut;
#X obj 780 763 text set config-out 9999;
#X obj 744 516 r doSaveDeviceId;
#X obj 582 626 symbol \$1;
#X obj 583 588 t b;
#X msg 348 616 \; doSave bang \;;
#X obj 1075 517 r resetConfig;
#X msg 1073 547 -1;
#X obj 1073 571 text delete config-out;
#X obj 820 678 t b s;
#X obj 848 718 pack s s;
#X text 989 269 Note: In case there is any confusion \, this is for
USB devices \, like QWERTY keyboards \, not musical keyboards of the
USB/MIDI type.;
#X text 406 657 Don't click on this.;
#X text 58 474 tedious menu stuff;
#X obj 212 306 readdir_organelle;
#X obj 1117 371 hid_grabber;
#X obj 1227 410 print;
#X obj 1114 407 route syn msc;
#X obj 239 29 r reload;
#X msg 757 701 hidSelectorInputId;
#X text 988 58 HIDSelectorSetup v0.1 \; Copyright 2024 Michael Spears
\; <mws@samesimilar.com> A utility for selecting an HID input device
for controlling Organelle \; \; Lists devices from /dev/input/by-id
\; Only paths that link to /dev/input/event* are considered. You can
also look for those devices in the terminal by running `ls -la /dev/input/by-id`
, f 46;
#X text 981 627 To use: \; 1 Attach USB HID Keyboard \; 2 Start the
HIDSelectorSetup Patch \; 3 Select a device in the list \; 4 Press
a key on the usb keyboard to see if it responds. 5 If you see input
on the screen then you selected the correct device. 6 Select 'save'.
to save the HID configuration file. 7 When the LED flashes \, the configuration
has been saved.;
#X obj 391 331 print;
#X obj 421 91 v defaultLayer;
#X obj 420 22 loadbang;
#X obj 420 46 f 1;
#X obj 824 802 r doSaveDefaultLayer;
#X obj 824 826 t b b;
#X msg 671 859 hidSelectorDefaultLayer;
#X obj 863 859 v defaultLayer;
#X obj 727 913 pack s f;
#X obj 732 962 text set config-out 9999;
#X msg 409 673 \; resetConfig bang \; doSaveDeviceId bang \; doSaveDefaultLayer
bang \; sendToConfigOut write \$1 \; oscOut send /led/flash 1 \; didSave
bang \;;
#X obj 142 186 stop_runaway 100;
#X msg 206 153 0;
#X connect 0 0 15 0;
#X connect 3 0 61 0;
#X connect 4 0 5 0;
#X connect 5 0 61 0;
#X connect 5 0 80 0;
#X connect 6 0 61 0;
#X connect 7 0 22 0;
#X connect 8 0 14 0;
#X connect 11 0 10 0;
#X connect 11 0 21 0;
#X connect 12 0 2 0;
#X connect 13 0 61 0;
#X connect 14 0 19 0;
#X connect 14 1 16 0;
#X connect 15 0 1 0;
#X connect 15 0 22 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X connect 19 0 20 0;
#X connect 22 2 31 0;
#X connect 22 3 6 0;
#X connect 22 4 4 0;
#X connect 22 5 3 0;
#X connect 22 5 81 0;
#X connect 22 6 13 0;
#X connect 22 7 23 0;
#X connect 22 8 11 0;
#X connect 25 0 26 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 39 0;
#X connect 38 0 62 0;
#X connect 41 0 44 1;
#X connect 42 0 51 0;
#X connect 44 0 46 0;
#X connect 45 0 44 0;
#X connect 46 0 56 0;
#X connect 47 0 43 0;
#X connect 49 0 45 0;
#X connect 50 0 79 0;
#X connect 51 0 50 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 56 0 66 0;
#X connect 56 1 57 1;
#X connect 57 0 48 0;
#X connect 61 0 8 0;
#X connect 61 1 4 1;
#X connect 62 0 63 0;
#X connect 62 0 64 0;
#X connect 64 2 40 0;
#X connect 65 0 22 0;
#X connect 66 0 57 0;
#X connect 71 0 72 0;
#X connect 72 0 70 0;
#X connect 73 0 74 0;
#X connect 74 0 75 0;
#X connect 74 1 76 0;
#X connect 75 0 77 0;
#X connect 76 0 77 1;
#X connect 77 0 78 0;
#X connect 80 0 4 1;
#X connect 81 0 80 1;
